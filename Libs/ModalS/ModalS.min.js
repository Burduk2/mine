window.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("popstate",n);let e=window.getComputedStyle(document.body).overflowY;const t=document.createElement("style");function n(){const e=new URLSearchParams(window.location.search).get("m_name");e&&document.querySelector(`[m-name="${e}"`)&&r(e)}function o(t){document.querySelector(`[m-name="${t}"]`).parentElement.removeAttribute("m-opened");const n=function(e,t){const n=new URL(e);return n.searchParams.delete(t),n.toString()}(window.location.href,"m_name");window.history.pushState({path:n},"",n),document.body.style.overflowY=e}function r(t){const n=document.querySelector(`[m-name="${t}"]`);n.parentElement.setAttribute("m-opened","");const o=function(e,t,n){const o=e.split("#"),r=o[0].split("?")[1]||"",a=new URLSearchParams(r),d=o[1]?`#${o[1]}`:"",c=o[0].split("?")[0];return a.has(t)?a.set(t,n):a.append(t,n),`${c}${a.toString()?`?${a.toString()}`:""}${d}`}(window.location.href,"m_name",n.getAttribute("m-name"));window.history.pushState({path:o},"",o),e=window.getComputedStyle(document.body).overflowY,document.body.style.overflowY="hidden"}t.innerHTML="[m-wrapper-for]{width:100%;max-width:100%;height:100vh;position:fixed;top:0;left:0;justify-content:center;align-items:center;display:none;z-index:99999;animation:ModalS-m-fade-in 50ms forwards;background-color:#0008}[m-wrapper-for][m-opened]{display:flex}[m-name]{background-color:#fff;border-radius:10px;padding:10px;width:400px;max-width:85%;max-height:90vh}@keyframes ModalS-m-fade-in{from{opacity:.1}to{opacity:1}}",t.setAttribute("m-default-styles",""),document.head.insertAdjacentElement("afterbegin",t),document.querySelectorAll("[m-name]").forEach((e=>{const t=document.createElement("div");e.insertAdjacentElement("afterend",t),t.setAttribute("m-wrapper-for",e.getAttribute("m-name"));const n=e.getAttribute("m-backdrop");if(n){const e=n.split(" ");for(const n of e){const e=n.charAt(0);"."===e?t.classList.add(n.slice(1)):"#"===e&&(t.id=n.slice(1))}}t.appendChild(e)})),document.querySelectorAll("[m-toggle]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("m-toggle");document.querySelector(`[m-name="${t}"]`).parentElement.hasAttribute("m-opened")?o(t):r(t)}))})),document.querySelectorAll("[m-open]").forEach((e=>{e.addEventListener("click",(()=>{r(e.getAttribute("m-open"))}))})),document.querySelectorAll("[m-close]").forEach((e=>{e.addEventListener("click",(()=>{o(e.getAttribute("m-close"))}))})),document.querySelectorAll("[m-wrapper-for]").forEach((e=>{e.addEventListener("click",(t=>{t.target===e&&o(e.getAttribute("m-wrapper-for"))}))})),n()}));